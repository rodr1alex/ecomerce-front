
    <div class="card w-11/12 min-h-96 p-4 mx-auto md:w-3/5 ">
        <div class="mb-4 md:mb-8">
            <p>{{(user.id > 0)? 'Actualizar datos de': 'Crear'}} usuario</p>
        </div>
        <form class=""  #userForm="ngForm" class="h-full flex flex-col justify-around">
            <!-- //EN CASO DE ACTUALIZAR, MOSTRAR LOS PLACEHOLDER Y LOS DATOS, MEJORA EXPERIENCUA DE USUARIO -->
            <div class="flex flex-col items-center ">   
                <div class="w-full mb-4 md:mb-8">
                    <input 
                        placeholder="Nombre" 
                        name="name" 
                        [(ngModel)]="user.name" 
                        class="input h-8 w-full"
                        #name="ngModel"
                        required
                    >
                    @if (name.invalid && (name.dirty || name.touched)) {
                        @if(name.errors!['required']){
                            <div class="">
                                Nombre es requerido
                            </div>
                            }
                        }
                </div>
                <div class="w-full mb-4 md:mb-8">
                    <input 
                        placeholder="Apellido" 
                        name="lastname" 
                        [(ngModel)]="user.lastname" 
                        class="input h-8 w-full"
                        #lastname="ngModel"
                        required
                    >
                    @if (lastname.invalid && (lastname.dirty || lastname.touched)) {
                        @if(lastname.errors!['required']){
                            <div class="">
                                Apellido es requerido
                            </div>
                            }
                        }
                </div>
                <div class="w-full mb-4 md:mb-8">
                    <input 
                        placeholder="Correo" 
                        name="email" 
                        [(ngModel)]="user.email" 
                        class="input h-8 w-full"
                        #email="ngModel"
                        required
                        email
                    >
                    @if (email.invalid && (email.dirty || email.touched)) {
                        @if(email.errors!['required']){
                            <div class="">
                                Correo es requerido
                            </div>
                            }
                        @if(email.errors!['email']){
                                <div class="text-danger">
                                    Debe ser un correo electronico
                                </div>
                            }
                        }
                </div>
                <div class="w-full mb-4 md:mb-8">
                    <input 
                        placeholder="Nombre de usuario" 
                        name="username" 
                        [(ngModel)]="user.username" 
                        class="input h-8 w-full"
                        #username="ngModel"
                        required
                        minlength=4
                    >
                    @if (username.invalid && (username.dirty || username.touched)) {
                        @if(username.errors!['required']){
                            <div class="">
                                Nombre de usuario es requerido
                            </div>
                            }
                        @if(username.errors!['minlength']){
                                <div class="">
                                El nombre de usuario debe de tener al menos 4 caracteres!
                                </div>
                            }
                        }
                </div>
               @if (user.id == 0) {
                <div class="w-full mb-4 md:mb-8">
                    <input 
                        type="password"
                        placeholder="Contraseña" 
                        name="password" 
                        [(ngModel)]="user.password" 
                        class="input h-8 w-full"
                        #password="ngModel"
                        required
                        minlength=5
                    >
                    @if (password.invalid && (password.dirty || password.touched)) {
                        @if(password.errors!['required']){
                            <div class="">
                                Contraseña es requerida
                            </div>
                            }
                        @if(password.errors!['minlength']){
                                <div class="">
                                La contraseña debe de tener al menos 5 caracteres!
                                </div>
                            }
                        }
                </div>
                <div class="w-full mb-6 md:mb-12">
                    <input 
                        type="password"
                        placeholder="Repita la contraseña" 
                        name="password2" 
                        [(ngModel)]="passwordRepeat" 
                        class="input h-8 w-full"
                        #password2="ngModel"
                        required
                        minlength=5
                    >
                    @if (password2.invalid && (password2.dirty || password2.touched)) {
                        @if(password2.errors!['required']){
                            <div class="">
                                Contraseña es requerida
                            </div>
                            }
                        }
                    @if((user.password != passwordRepeat) &&  passwordRepeat!= ''){
                        <div class="">
                            Las contraseñas no son iguales
                        </div>
                    }
                </div>
                <p>Agregar direccion (Opcional)</p>
                <div class="w-full mb-6 md:mb-12">
                    <input 
                        type="text"
                        placeholder="Ciudad" 
                        name="city" 
                        [(ngModel)]="addres.city" 
                        class="input h-8 w-full"
                        #city="ngModel"
                        minlength=5
                    >
                </div>
                <div class="w-full mb-6 md:mb-12">
                    <input 
                        type="text"
                        placeholder="Calle" 
                        name="street" 
                        [(ngModel)]="addres.street" 
                        class="input h-8 w-full"
                        #street="ngModel"
                        minlength=5
                    >
                </div>
                <div class="w-full mb-6 md:mb-12">
                    <input 
                        type="text"
                        placeholder="Numero" 
                        name="number" 
                        [(ngModel)]="addres.number" 
                        class="input h-8 w-full"
                        #number="ngModel"
                    >
                </div>
               }@else {
                <a class="mb-10 text-blue-400" [routerLink]="['/update_password', user.id]">Actualizar contraseña </a>
                <a class="mb-10 text-blue-400" [routerLink]="['/direction_list']">Actualizar direcciones </a>
               }
            </div>
            <div class="flex justify-around w-full mb-10">
                @if (user.id == 0) {
                    <button class="button w-1/4 text-center" (click)="onClear(userForm)">Limpiar</button>
                    <button class="button w-1/4 text-center" [disabled]="(userForm.invalid || (user.password != passwordRepeat))" (click)="createUser()">
                        Crear
                    </button>
                    <button class="button w-1/4 text-center" [routerLink]="['/home']">Cancelar</button>
                }@else {
                    <button class="button w-1/3 text-center" [disabled]="(userForm.invalid)" (click)="updateUser()">Actualizar</button>
                    <button class="button w-1/3 text-center" [routerLink]="['/home']">Cancelar</button>
                }
                
            </div>
        </form>
    </div>

